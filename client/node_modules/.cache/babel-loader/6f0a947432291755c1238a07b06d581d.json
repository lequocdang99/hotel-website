{"ast":null,"code":"var _jsxFileName = \"/Users/tomle/Desktop/Funix/05.Node.js/ASM2/client/src/pages/user/Login.js\";\nimport React from 'react';\nimport styles from '../home/Button.module.css';\nimport './Login.css';\nimport NavBar from '../home/NavBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  //Login email and password\n  const loginHandler = async event => {\n    try {\n      event.preventDefault();\n      const email = event.target.elements.email.value;\n      const password = event.target.elements.password.value;\n      const response = await fetch(`http://localhost:5000/user/login/${email}/${password}`);\n      const data = await response.json();\n\n      if (data.result) {\n        localStorage.setItem('username', JSON.stringify(email));\n        window.location.href = '/';\n      } else {\n        alert(data.message);\n      }\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login-form\",\n        onSubmit: loginHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"login-title\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"email\",\n          className: \"login-input\",\n          placeholder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          className: \"login-input\",\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.buttonBlue,\n          id: \"login-button\",\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/tomle/Desktop/Funix/05.Node.js/ASM2/client/src/pages/user/Login.js"],"names":["React","styles","NavBar","Login","loginHandler","event","preventDefault","email","target","elements","value","password","response","fetch","data","json","result","localStorage","setItem","JSON","stringify","window","location","href","alert","message","err","console","error","buttonBlue"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAO,aAAP;AACA,OAAOC,MAAP,MAAmB,gBAAnB;;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB;AACA,QAAMC,YAAY,GAAG,MAAOC,KAAP,IAAiB;AACpC,QAAI;AACFA,MAAAA,KAAK,CAACC,cAAN;AACA,YAAMC,KAAK,GAAGF,KAAK,CAACG,MAAN,CAAaC,QAAb,CAAsBF,KAAtB,CAA4BG,KAA1C;AACA,YAAMC,QAAQ,GAAGN,KAAK,CAACG,MAAN,CAAaC,QAAb,CAAsBE,QAAtB,CAA+BD,KAAhD;AACA,YAAME,QAAQ,GAAG,MAAMC,KAAK,CACzB,oCAAmCN,KAAM,IAAGI,QAAS,EAD5B,CAA5B;AAGA,YAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;;AACA,UAAID,IAAI,CAACE,MAAT,EAAiB;AACfC,QAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeb,KAAf,CAAjC;AACAc,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACD,OAHD,MAGO;AACLC,QAAAA,KAAK,CAACV,IAAI,CAACW,OAAN,CAAL;AACD;AACF,KAdD,CAcE,OAAOC,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACD,OAAlB;AACD;AACF,GAlBD;;AAoBA,sBACE;AAAA,4BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,6BACE;AACE,QAAA,SAAS,EAAC,YADZ;AAEE,QAAA,QAAQ,EAAErB,YAFZ;AAAA,gCAIE;AAAQ,UAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,EAAE,EAAC,OAFL;AAGE,UAAA,SAAS,EAAC,aAHZ;AAIE,UAAA,WAAW,EAAC;AAJd;AAAA;AAAA;AAAA;AAAA,gBALF,eAWE;AACE,UAAA,IAAI,EAAC,UADP;AAEE,UAAA,EAAE,EAAC,UAFL;AAGE,UAAA,SAAS,EAAC,aAHZ;AAIE,UAAA,WAAW,EAAC;AAJd;AAAA;AAAA;AAAA;AAAA,gBAXF,eAiBE;AACE,UAAA,SAAS,EAAEH,MAAM,CAAC4B,UADpB;AAEE,UAAA,EAAE,EAAC,cAFL;AAGE,UAAA,IAAI,EAAC,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA,kBADF;AAgCD,CAtDD;;KAAM1B,K;AAuDN,eAAeA,KAAf","sourcesContent":["import React from 'react';\nimport styles from '../home/Button.module.css';\nimport './Login.css';\nimport NavBar from '../home/NavBar';\n\nconst Login = () => {\n  //Login email and password\n  const loginHandler = async (event) => {\n    try {\n      event.preventDefault();\n      const email = event.target.elements.email.value;\n      const password = event.target.elements.password.value;\n      const response = await fetch(\n        `http://localhost:5000/user/login/${email}/${password}`\n      );\n      const data = await response.json();\n      if (data.result) {\n        localStorage.setItem('username', JSON.stringify(email));\n        window.location.href = '/';\n      } else {\n        alert(data.message);\n      }\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  return (\n    <>\n      <NavBar />\n      <div className='login'>\n        <form\n          className='login-form'\n          onSubmit={loginHandler}\n        >\n          <header className='login-title'>Login</header>\n          <input\n            type='text'\n            id='email'\n            className='login-input'\n            placeholder='Email'\n          ></input>\n          <input\n            type='password'\n            id='password'\n            className='login-input'\n            placeholder='Password'\n          ></input>\n          <button\n            className={styles.buttonBlue}\n            id='login-button'\n            type='submit'\n          >\n            Login\n          </button>\n        </form>\n      </div>\n    </>\n  );\n};\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}